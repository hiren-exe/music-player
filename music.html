<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="main_div">
        <div class="music_container">
            <h2 id="title">The Feelings</h2>
            <h2 id="artist">Sumit Goswami</h2>
            <div class="img_container">
                <img src="images/Feelings.jpg" alt="">
            </div>
            <audio src="music/Feelings - sumit Goswami.mp3"></audio>
            <!-- controls -->
            <div class="music_controls">
                <i class="fas fa-backward" id="prev" title="Previous"></i>
                <i class="fas fa-play main_button" id="play" title="Play"></i>
                <i class="fas fa-forward" id="next" title="Next"></i>
            </div>
        </div>
    </div>
    <script>
        const play=document.getElementById("play");
        const music=document.querySelector("audio");
        const img=document.querySelector("img");
        const a=document.getElementById("artist");
        const t=document.getElementById("title");
        const prev=document.getElementById("prev");
        const next=document.getElementById("next");
        const songs=[
        {
            sname:"Feelings - sumit Goswami",
            iname:"Feelings",
            title:"The Feelings",
            artist:"Sumit Goswami" 
        },
        {
            sname:"Imagine Dragons - Believer",
            iname:"Believer",
            title:"Believer",
            artist:"Imagine Dragons",  
        },
        {
            sname:"Khairiyat",
            iname:"Khairiyat",
            title:"Khairiyat",
            artist:"Arijit Singh", 
        }
        ];
        let isPlaying=false;
        const playMusic=() => {
            isPlaying=true;
            music.play();
            play.classList.replace("fa-play" , "fa-pause");
            img.classList.add("anime");

        };
        const pauseMusic=() => {
            isPlaying=false;
            music.pause();
            play.classList.replace("fa-pause" , "fa-play");
            img.classList.remove("anime");
        };
        play.addEventListener("click",() => {
           isPlaying ? pauseMusic() :playMusic();
         });
         // Changing the music data
         const loadSong=(songs)=>{
             t.textContent=songs.title;
             a.textContent=songs.artist;
             music.src="music/"+songs.sname +".mp3";
             img.src="images/"+songs.iname+".jpg";
         };
         songindex=0;
         //loadSong(songs[2]);
         const nextSong = () =>{
            songindex= (songindex+1)%songs.length;
            loadSong(songs[songindex]);
            playMusic();
         }
         const prevSong = () =>{
            songindex= (songindex -1+songs.length)%songs.length;
            loadSong(songs[songindex]);
            playMusic();
         }
         next.addEventListener("click",nextSong);
         prev.addEventListener("click",prevSong);        
    </script>
</body>
</html>